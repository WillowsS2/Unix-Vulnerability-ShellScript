#!/bin/bash

# log파일로 해당 진단 내용 파일 생성 
. function.sh
TMP1=`SCRIPTNAME`.log
> $TMP1

BAR
CODE [ U-35 ] 웹서비스 디렉토리 리스팅 제거
cat << EOF >> $RESULT
[ 양호 ] : 디렉터리 검색 기능을 사용하지 않는 경우
[ 취약 ] : 디렉터리 검색 기능을 사용하는 경우
EOF
BAR

FILE=/etc/httpd/conf/httpd.conf

# 파일에서 Indexes 부분 중 주석이 없는 문자열 출력
cat $FILE | grep Indexes | grep -v '#' > $TMP1
if [ -s $TMP1 ] ; then
    WARN $FILE 파일에서 Indexes 옵션을 삭제하세요.
    INFO $TMP1 파일을 확인해야 합니다.
else
    OK $FILE 파일에서 Indexes 옵션이 설정되어있지 않습니다.
    rm $TMP1
fi

cat $RESULT
echo;